*Build: 6a82f18*
*Last updated: 18/10/2025 – 11:34 (Europe/Athens)*
# 🧩 **Functional Flow – CHECKLIST System (V7.1.0R)**

## 📘 Επισκόπηση
Το παρόν έγγραφο περιγράφει με απλό και λειτουργικό τρόπο τη ροή λειτουργίας του CHECKLIST συστήματος (έκδοση V7.1.0R – Popup Restoration Build).
Αποτελεί οδηγό κατανόησης για τον τρόπο που λειτουργεί η εφαρμογή σε πραγματικές συνθήκες εργασίας, από τη στιγμή που ανοίγει το αρχείο έως τη δημιουργία και καταγραφή των ενεργειών της ημέρας.

---

## 🕹️ 1️⃣ Εκκίνηση – onOpen Trigger
Όταν ο χρήστης ανοίγει το αρχείο Google Sheet, το σύστημα ξεκινά αυτόματα τη διαδικασία ελέγχου και προετοιμασίας.

1. Δημιουργείται προσωρινό μενού φόρτωσης (Loading Menu).  
2. Ελέγχεται αν υπάρχει ήδη ενεργή ημέρα:  
   - Αν ΝΑΙ → προβάλλεται popup ενημέρωσης.  
   - Αν ΟΧΙ → καλείται η λειτουργία `AdminToolsLib.createNewDay_AUTO()` για δημιουργία νέας ημέρας.  
3. Η δημιουργία νέας ημέρας βασίζεται στο **template “Master1”** που λαμβάνεται από το αρχείο **HoB_Masters**.  
4. Εμφανίζεται custom popup επιβεβαίωσης μέσω `PopupLib.showCustomPopup()`.

➡️ Στόχος: να διασφαλιστεί ότι κάθε αρχείο ξεκινά τη μέρα με καθαρή φόρμα και ενημερωμένο περιβάλλον εργασίας.

---

## ✏️ 2️⃣ Επεξεργασία – onEdit Trigger
Κάθε αλλαγή κελιού στο φύλλο ελέγχεται από το `onEdit(e)`:

- Αν το κελί περιέχει placeholder “Όνομα Επώνυμο?” → ειδοποίηση με popup.  
- Αν είναι drop-down επιλογή → ενεργοποιείται validation για να αποτραπούν μη έγκυρες τιμές.  
- Αν είναι checkbox → το σύστημα προσθέτει αυτόματα **timestamp**.  
- Αν καταχωρηθεί σχόλιο (Ctrl+Alt+M) → ενεργοποιείται ειδικό popup ή ειδοποίηση (ανάλογα τη στήλη).

➡️ Στόχος: κάθε ενέργεια χρήστη να ελέγχεται, να καταγράφεται και να παρέχει άμεσο feedback.

---

## ⏰ 3️⃣ Αυτόματες Εργασίες – Time-driven Trigger
Το σύστημα εκτελεί προγραμματισμένες ενέργειες στο παρασκήνιο:

- Ελέγχει κάθε 20–30 λεπτά αν υπάρχουν κενά ονόματα ή ελλείψεις (`remindMissingNames()`).  
- Εκτελεί περιοδικό καθαρισμό ή ενημέρωση, μόνο όταν υπάρχει ενεργό περιβάλλον (UI context).  
- Αν δεν υπάρχει UI context (π.χ. εκτέλεση εκτός περιόδου), η λειτουργία διακόπτεται για εξοικονόμηση πόρων.

➡️ Στόχος: να διατηρείται η συνέπεια των δεδομένων χωρίς ανθρώπινη παρέμβαση.

---

## 📄 4️⃣ Δημιουργία Νέας Ημέρας (createNewDay_AUTO)
Η δημιουργία νέας ημέρας είναι βασική λειτουργία του συστήματος:

1. Αποκρύπτει προσωρινά όλα τα παλιά tabs.  
2. Εμφανίζει το tab **Master1** από το αρχείο HoB_Masters.  
3. Αντιγράφει το template και προσαρμόζει τις ημερομηνίες.  
4. Διατηρεί τις προστασίες κελιών.  
5. Εμφανίζει επιβεβαιωτικό popup “Ημέρα δημιουργήθηκε επιτυχώς”.

➡️ Στόχος: αυτοματοποίηση της ημερήσιας ανανέωσης χωρίς καμία χειροκίνητη ενέργεια.

---

## ⚙️ 5️⃣ Συνεργασία Libraries
Οι τέσσερις βασικές βιβλιοθήκες συνεργάζονται αρμονικά μεταξύ τους:

| Βιβλιοθήκη | Ρόλος | Καλείται από |
|-------------|--------|--------------|
| **MenuLib** | Δημιουργεί και φορτώνει το μενού HoB | `Checklist.gs` |
| **AdminToolsLib** | Διαχειρίζεται όλες τις βασικές ενέργειες | `Checklist.gs` & `AutoDupl_File&DeleteTabs.gs` |
| **PopupLib** | Εμφανίζει όλα τα μηνύματα και popups | `Checklist.gs` & `AdminToolsLib` |
| **HoBMastersLib** | Διαχειρίζεται τα Master Tabs από το κεντρικό αρχείο | `AdminToolsLib` |

➡️ Οι βιβλιοθήκες αυτές αποτελούν τη “ραχοκοκαλιά” του συστήματος CHECKLIST.

---

## 🧭 6️⃣ Παράδειγμα Λειτουργικής Ροής (Μία Ημέρα)
```
1. Ο χρήστης ανοίγει το αρχείο → onOpen ενεργοποιείται
2. Δημιουργείται ή επαναφέρεται νέα ημέρα → createNewDay_AUTO()
3. Ο χρήστης αρχίζει να καταχωρεί εργασίες → onEdit()
4. Το σύστημα εμφανίζει popups / timestamps ανάλογα με τις επιλογές
5. Κάθε 30’ γίνεται αυτόματος έλεγχος ονομάτων → remindMissingNames()
6. Στο τέλος της ημέρας, τα δεδομένα είναι πλήρη και καθαρά
```

➡️ Έτσι εξασφαλίζεται ότι κάθε μέρα είναι πλήρως καταγεγραμμένη, χωρίς χειροκίνητες παρεμβάσεις.

---

## 🧩 7️⃣ Σημεία Αυτοδιόρθωσης & Ειδοποιήσεων
- Αν λείπει όνομα → popup ειδοποίησης.  
- Αν drop-down τιμή διαγραφεί → σβήνεται αυτόματα και η ώρα εκτέλεσης.  
- Αν δημιουργηθεί νέα ημέρα → όλα τα tabs επαναφέρονται στη σωστή κατάσταση.  
- Αν παρουσιαστεί σφάλμα UI → το PopupLib μεταβαίνει σε native alert fallback.  

➡️ Το σύστημα προλαμβάνει σφάλματα πριν αυτά επηρεάσουν την καταγραφή.

---

## 🧩 8️⃣ Απλή Εικόνα Ροής
```
[onOpen] → [Έλεγχος ημέρας] → [createNewDay_AUTO]
      ↓
   [MenuLib φορτώνει]
      ↓
   [onEdit] → [Popup / Validation / Timestamp]
      ↓
   [Time Trigger] → [remindMissingNames]
```

---

## 🧠 9️⃣ Συμπέρασμα
Η έκδοση **V7.1.0R** του CHECKLIST συστήματος είναι πλήρως σταθερή και ενοποιημένη.  
Η λειτουργική ροή εξασφαλίζει ακρίβεια, αυτοματοποίηση και συνεχή ενημέρωση.  
Το σύστημα είναι πλέον σε θέση να λειτουργεί χωρίς ανάγκη ανθρώπινης παρέμβασης, με ελάχιστη συντήρηση.

---

© Hall of Brands – CHECKLIST Automation System  
Author: **DEK – BD-PM Διευθυντής Ανάπτυξης & Έργου**  
Email: `dek@beyondlimits.events`  
Date: 13/10/2025
